import {
  Weapon,
  CountryCode,
  WeaponCategory,
  WeaponSubcategory,
  GunSubcategory,
  TankSubcategory,
  PlaneSubcategory,
  NavalSubcategory,
  ExplosiveSubcategory,
  GunSpecs,
  TankSpecs,
  PlaneSpecs,
  NavalSpecs,
  ExplosiveSpecs,
} from '@/lib/types/weapon';
import { expandedHistoryById } from '@/lib/data/expandedHistory';

interface HistoryContext {
  id: string;
  name: string;
  category: WeaponCategory;
  subcategory: WeaponSubcategory;
  manufacturer: string;
  yearIntroduced: number;
  yearRetired?: number;
  specs: Weapon['specs'];
  overview: string;
  fallbackNotableUses?: string[];
}

function formatServiceWindow(yearIntroduced: number, yearRetired?: number): string {
  if (!yearRetired) return `from ${yearIntroduced} onward`;
  if (yearRetired === yearIntroduced) return `during ${yearIntroduced}`;
  return `from ${yearIntroduced} to ${yearRetired}`;
}

function doctrineLine(category: WeaponCategory, subcategory: WeaponSubcategory): string {
  if (category === 'guns') {
    if (subcategory === 'sniper') return 'It was employed for deliberate long-range precision and counter-sniper work.';
    if (subcategory === 'machinegun') return 'It anchored squad and platoon fire plans with sustained suppressive fire.';
    if (subcategory === 'smg') return 'It was favored for close-quarters assaults where volume of fire and speed mattered most.';
    if (subcategory === 'handgun') return 'It served as a practical sidearm for officers, crews, and specialists.';
    return 'It was fielded as a frontline individual weapon for general infantry service.';
  }

  if (category === 'tanks') {
    if (subcategory === 'heavy-tank') return 'Its doctrine emphasized breakthrough assaults, strongpoint reduction, and shock value.';
    if (subcategory === 'tank-destroyer') return 'It was optimized to hunt armor and blunt enemy breakthroughs.';
    return 'It was intended to combine maneuver with battlefield fire support under armored protection.';
  }

  if (category === 'planes') {
    if (subcategory === 'fighter') return 'Doctrine prioritized air superiority, interception, and rapid tactical response.';
    if (subcategory === 'bomber') return 'It was designed to project firepower deep into enemy rear areas and infrastructure.';
    return 'Its role centered on logistics, airborne movement, and operational reach.';
  }

  if (category === 'naval') {
    if (subcategory === 'carrier') return 'Its combat value came from aircraft projection, reconnaissance, and strike flexibility.';
    if (subcategory === 'submarine') return 'It contributed through sea-lane interdiction, stealth patrols, and attrition warfare.';
    if (subcategory === 'destroyer') return 'It provided screening, anti-submarine defense, and fast-response surface action.';
    return 'It represented concentrated naval gunfire power in fleet engagements.';
  }

  if (subcategory === 'mine') return 'It shaped terrain and movement by channeling, delaying, and attriting enemy formations.';
  if (subcategory === 'smoke-grenade')
    return 'It was used to obscure movement, break observation, and reduce enemy fire control.';
  if (subcategory === 'demolition-charge')
    return 'It enabled combat engineers to breach, sabotage, and clear obstacles under fire.';
  if (subcategory === 'incendiary')
    return 'It was intended to ignite fuel, materiel, and positions where fire effects were decisive.';
  if (subcategory === 'anti-tank-grenade')
    return 'It gave infantry a close-range anti-armor option in ambush and urban conditions.';
  return 'It was carried as a compact battlefield explosive for assault and defensive actions.';
}

function performanceLine(context: HistoryContext): string {
  if (context.category === 'guns') {
    const specs = context.specs as GunSpecs;
    const fireLine = specs.rateOfFire > 0 ? `${specs.rateOfFire} rpm` : 'semi-automatic fire';
    return `Combat profile: ${specs.caliber}, ${specs.action}, ${fireLine}, and an effective range of about ${specs.effectiveRange} m.`;
  }

  if (context.category === 'tanks') {
    const specs = context.specs as TankSpecs;
    return `Combat profile: ${specs.weight}-ton platform with ${specs.mainArmament}, ${specs.armor.front} mm frontal armor, top speed near ${specs.maxSpeed} km/h, and about ${specs.productionCount.toLocaleString()} built.`;
  }

  if (context.category === 'planes') {
    const specs = context.specs as PlaneSpecs;
    return `Combat profile: top speed around ${specs.maxSpeed} km/h, combat range near ${specs.range} km, service ceiling of ${specs.ceiling.toLocaleString()} m, and total production of about ${specs.productionCount.toLocaleString()}.`;
  }

  if (context.category === 'naval') {
    const specs = context.specs as NavalSpecs;
    return `Combat profile: roughly ${specs.displacement.toLocaleString()} tons displacement, ${specs.speed} knots, operational range near ${specs.range.toLocaleString()} nmi, and crew requirements around ${specs.crew.toLocaleString()}.`;
  }

  const specs = context.specs as ExplosiveSpecs;
  const range =
    typeof specs.effectiveRange === 'number' ? `effective range around ${specs.effectiveRange} m` : 'close-placement employment';
  const blast =
    typeof specs.blastRadius === 'number' ? `blast radius near ${specs.blastRadius} m` : 'effects dependent on emplacement and cover';
  return `Combat profile: ${specs.explosiveType} filling, ${specs.fuzing} fuzing, ${specs.weight} kg total weight, ${range}, and ${blast}.`;
}

function enrichUses(uses: string[], context: HistoryContext): string[] {
  if (uses.length === 0) {
    return ['Documented as an operational World War II weapon platform.'];
  }

  const notesByCategory: Record<WeaponCategory, string[]> = {
    guns: [
      `${context.name} was used here in squad-level engagements where handling and immediate fire effect mattered.`,
      'This theater exposed how ammunition load, reliability, and training shaped real battlefield outcomes.',
      `Field reports from this context show why ${context.subcategory.replace('-', ' ')} doctrine evolved during the war.`,
    ],
    tanks: [
      `${context.name} faced the classic WW2 armor tradeoff between protection, mobility, and sustained operations.`,
      'This campaign context tested crew coordination, recovery capability, and maintenance depth under pressure.',
      `Operational records from this setting show how armor performance depended on combined-arms support, not tank specs alone.`,
    ],
    planes: [
      `${context.name} performance in this setting depended on pilot quality, sortie tempo, and maintenance turnaround.`,
      'Air combat here highlighted the gap between published performance and mission reality under weather and fuel constraints.',
      `This theater is useful for understanding how ${context.subcategory.replace('-', ' ')} aircraft were integrated into broader operations.`,
    ],
    naval: [
      `${context.name} in this context reflects the importance of scouting, command decisions, and damage control discipline.`,
      'Action reports from this theater show endurance and logistics were often as decisive as armament.',
      `This employment case captures how naval doctrine translated platform capability into campaign-level effect.`,
    ],
    explosives: [
      `${context.name} employment here depended on timing, distance, and unit coordination more than raw charge size.`,
      'This use case shows how engineers and infantry turned explosive tools into tactical advantage in constrained terrain.',
      `Field application in this context illustrates why placement and doctrine governed real effect.`,
    ],
  };

  const notes = notesByCategory[context.category];
  return uses.map((use, index) => `${use} - ${notes[index % notes.length]}`);
}

function history(context: HistoryContext): Weapon['history'] {
  const curated = expandedHistoryById[context.id];
  const serviceWindow = formatServiceWindow(context.yearIntroduced, context.yearRetired);
  const provenance = `${context.name} entered service ${serviceWindow} and was produced by ${context.manufacturer}.`;
  const doctrine = doctrineLine(context.category, context.subcategory);
  const performance = performanceLine(context);
  const fallbackNotableUses = context.fallbackNotableUses ?? [];

  if (curated) {
    return {
      overview: context.overview,
      development: curated.development,
      combatHistory: curated.combatHistory,
      notableUses: enrichUses(curated.notableUses, context),
    };
  }

  return {
    overview: context.overview,
    development: `This system was developed and fielded during World War II to meet branch-level operational requirements. ${provenance} ${doctrine}`,
    combatHistory: `It saw wartime operational use, with employment varying by theater, doctrine, and logistics. ${performance}`,
    notableUses: enrichUses(fallbackNotableUses, context),
  };
}

function gun(
  data: Omit<Weapon, 'category' | 'specs' | 'history' | 'featured'> & {
    subcategory: GunSubcategory;
    specs: GunSpecs;
    overview: string;
    notableUses?: string[];
  },
): Weapon {
  return {
    ...data,
    category: 'guns',
    specs: data.specs,
    history: history({
      id: data.id,
      name: data.name,
      category: 'guns',
      subcategory: data.subcategory,
      manufacturer: data.manufacturer,
      yearIntroduced: data.yearIntroduced,
      yearRetired: data.yearRetired,
      specs: data.specs,
      overview: data.overview,
      fallbackNotableUses: data.notableUses,
    }),
    featured: false,
  };
}

function tank(
  data: Omit<Weapon, 'category' | 'specs' | 'history' | 'featured'> & {
    subcategory: TankSubcategory;
    specs: TankSpecs;
    overview: string;
    notableUses?: string[];
  },
): Weapon {
  return {
    ...data,
    category: 'tanks',
    specs: data.specs,
    history: history({
      id: data.id,
      name: data.name,
      category: 'tanks',
      subcategory: data.subcategory,
      manufacturer: data.manufacturer,
      yearIntroduced: data.yearIntroduced,
      yearRetired: data.yearRetired,
      specs: data.specs,
      overview: data.overview,
      fallbackNotableUses: data.notableUses,
    }),
    featured: false,
  };
}

function plane(
  data: Omit<Weapon, 'category' | 'specs' | 'history' | 'featured'> & {
    subcategory: PlaneSubcategory;
    specs: PlaneSpecs;
    overview: string;
    notableUses?: string[];
  },
): Weapon {
  return {
    ...data,
    category: 'planes',
    specs: data.specs,
    history: history({
      id: data.id,
      name: data.name,
      category: 'planes',
      subcategory: data.subcategory,
      manufacturer: data.manufacturer,
      yearIntroduced: data.yearIntroduced,
      yearRetired: data.yearRetired,
      specs: data.specs,
      overview: data.overview,
      fallbackNotableUses: data.notableUses,
    }),
    featured: false,
  };
}

function naval(
  data: Omit<Weapon, 'category' | 'specs' | 'history' | 'featured'> & {
    subcategory: NavalSubcategory;
    specs: NavalSpecs;
    overview: string;
    notableUses?: string[];
  },
): Weapon {
  return {
    ...data,
    category: 'naval',
    specs: data.specs,
    history: history({
      id: data.id,
      name: data.name,
      category: 'naval',
      subcategory: data.subcategory,
      manufacturer: data.manufacturer,
      yearIntroduced: data.yearIntroduced,
      yearRetired: data.yearRetired,
      specs: data.specs,
      overview: data.overview,
      fallbackNotableUses: data.notableUses,
    }),
    featured: false,
  };
}

function explosive(
  data: Omit<Weapon, 'category' | 'specs' | 'history' | 'featured'> & {
    subcategory: ExplosiveSubcategory;
    specs: ExplosiveSpecs;
    overview: string;
    notableUses?: string[];
  },
): Weapon {
  return {
    ...data,
    category: 'explosives',
    specs: data.specs,
    history: history({
      id: data.id,
      name: data.name,
      category: 'explosives',
      subcategory: data.subcategory,
      manufacturer: data.manufacturer,
      yearIntroduced: data.yearIntroduced,
      yearRetired: data.yearRetired,
      specs: data.specs,
      overview: data.overview,
      fallbackNotableUses: data.notableUses,
    }),
    featured: false,
  };
}

function country(code: CountryCode): CountryCode {
  return code;
}

export const expandedWeapons: Weapon[] = [
  // Guns
  gun({
    id: 'lee-enfield-no4',
    slug: 'lee-enfield-no4',
    name: 'Lee-Enfield No.4 Mk I',
    designation: 'Rifle, No. 4 Mk I',
    subcategory: 'rifle',
    country: country('UK'),
    manufacturer: 'Royal Ordnance Factories',
    yearIntroduced: 1941,
    yearRetired: 1957,
    imageUrl: '/weapons-expanded/lee-enfield-no4.jpg',
    specs: {
      caliber: '.303 British (7.7x56mmR)',
      action: 'Bolt-action',
      rateOfFire: 20,
      muzzleVelocity: 744,
      effectiveRange: 500,
      magazineCapacity: 10,
      weight: 4.1,
      length: 1130,
    },
    overview: 'Primary British and Commonwealth service rifle through most of WW2.',
    notableUses: ['North Africa campaign', 'Northwest Europe 1944-45'],
  }),
  gun({
    id: 'ppsh-41',
    slug: 'ppsh-41',
    name: 'PPSh-41',
    designation: 'Pistolet-Pulemyot Shpagina',
    subcategory: 'smg',
    country: country('USSR'),
    manufacturer: 'Various Soviet factories',
    yearIntroduced: 1941,
    yearRetired: 1950,
    imageUrl: '/weapons-expanded/ppsh-41.jpg',
    specs: {
      caliber: '7.62x25mm Tokarev',
      action: 'Blowback, open bolt',
      rateOfFire: 900,
      muzzleVelocity: 488,
      effectiveRange: 200,
      magazineCapacity: 71,
      weight: 3.63,
      length: 843,
    },
    overview: 'High-rate Soviet submachine gun produced in very large wartime numbers.',
    notableUses: ['Battle of Stalingrad', 'Eastern Front infantry assaults'],
  }),
  gun({
    id: 'stg-44',
    slug: 'stg-44',
    name: 'StG 44',
    designation: 'Sturmgewehr 44',
    subcategory: 'rifle',
    country: country('DE'),
    manufacturer: 'C.G. Haenel / Walther',
    yearIntroduced: 1944,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/stg-44.jpg',
    specs: {
      caliber: '7.92x33mm Kurz',
      action: 'Gas-operated, tilting bolt',
      rateOfFire: 500,
      muzzleVelocity: 685,
      effectiveRange: 300,
      magazineCapacity: 30,
      weight: 5.22,
      length: 940,
    },
    overview: 'Late-war German select-fire rifle often cited as an early assault-rifle archetype.',
  }),
  gun({
    id: 'mg-42',
    slug: 'mg-42',
    name: 'MG 42',
    designation: 'Maschinengewehr 42',
    subcategory: 'machinegun',
    country: country('DE'),
    manufacturer: 'Großfuß / Mauser',
    yearIntroduced: 1942,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/mg-42.jpg',
    specs: {
      caliber: '7.92x57mm Mauser',
      action: 'Recoil-operated, roller-locked',
      rateOfFire: 1200,
      muzzleVelocity: 740,
      effectiveRange: 1000,
      magazineCapacity: 50,
      weight: 11.6,
      length: 1220,
    },
    overview: 'German general-purpose machine gun known for very high cyclic rate.',
  }),
  gun({
    id: 'bren-mk2',
    slug: 'bren-mk2',
    name: 'Bren Mk II',
    designation: 'Bren Light Machine Gun Mk II',
    subcategory: 'machinegun',
    country: country('UK'),
    manufacturer: 'RSAF Enfield',
    yearIntroduced: 1941,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/bren-mk2.jpg',
    specs: {
      caliber: '.303 British (7.7x56mmR)',
      action: 'Gas-operated, tilting bolt',
      rateOfFire: 500,
      muzzleVelocity: 744,
      effectiveRange: 550,
      magazineCapacity: 30,
      weight: 10.15,
      length: 1156,
    },
    overview: 'Standard British section light machine gun with top-mounted magazine.',
  }),
  gun({
    id: 'mosin-m9130',
    slug: 'mosin-m9130',
    name: 'Mosin-Nagant M91/30',
    designation: 'M91/30 Infantry Rifle',
    subcategory: 'rifle',
    country: country('USSR'),
    manufacturer: 'Izhevsk / Tula',
    yearIntroduced: 1930,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/mosin-m9130.png',
    specs: {
      caliber: '7.62x54mmR',
      action: 'Bolt-action',
      rateOfFire: 15,
      muzzleVelocity: 865,
      effectiveRange: 500,
      magazineCapacity: 5,
      weight: 4,
      length: 1232,
    },
    overview: 'Standard Soviet service rifle and common sniper platform in WW2.',
  }),
  gun({
    id: 'm1-carbine',
    slug: 'm1-carbine',
    name: 'M1 Carbine',
    designation: 'United States Carbine, Caliber .30, M1',
    subcategory: 'rifle',
    country: country('US'),
    manufacturer: 'Inland / Winchester and others',
    yearIntroduced: 1941,
    yearRetired: 1973,
    imageUrl: '/weapons-expanded/m1-carbine.png',
    specs: {
      caliber: '.30 Carbine (7.62x33mm)',
      action: 'Gas-operated, rotating bolt',
      rateOfFire: 45,
      muzzleVelocity: 607,
      effectiveRange: 275,
      magazineCapacity: 15,
      weight: 2.36,
      length: 904,
    },
    overview: 'Light U.S. carbine issued to support troops, officers, and airborne units.',
  }),
  gun({
    id: 'bar-m1918a2',
    slug: 'bar-m1918a2',
    name: 'Browning Automatic Rifle M1918A2',
    designation: 'BAR M1918A2',
    subcategory: 'machinegun',
    country: country('US'),
    manufacturer: 'IBM / New England Small Arms',
    yearIntroduced: 1938,
    yearRetired: 1957,
    imageUrl: '/weapons-expanded/bar-m1918a2.jpg',
    specs: {
      caliber: '.30-06 Springfield (7.62x63mm)',
      action: 'Gas-operated, rising bolt',
      rateOfFire: 500,
      muzzleVelocity: 853,
      effectiveRange: 600,
      magazineCapacity: 20,
      weight: 8.8,
      length: 1214,
    },
    overview: 'U.S. squad automatic weapon used through the European and Pacific theaters.',
  }),
  gun({
    id: 'type-100-smg',
    slug: 'type-100-smg',
    name: 'Type 100 SMG',
    designation: 'Type 100 Submachine Gun',
    subcategory: 'smg',
    country: country('JP'),
    manufacturer: 'Nambu Arms Manufacturing',
    yearIntroduced: 1942,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/type-100-smg.jpg',
    specs: {
      caliber: '8x22mm Nambu',
      action: 'Blowback, open bolt',
      rateOfFire: 450,
      muzzleVelocity: 335,
      effectiveRange: 150,
      magazineCapacity: 30,
      weight: 3.8,
      length: 890,
    },
    overview: 'Japanese SMG fielded in smaller numbers than Allied or German counterparts.',
  }),
  gun({
    id: 'fg-42',
    slug: 'fg-42',
    name: 'FG 42',
    designation: 'Fallschirmjägergewehr 42',
    subcategory: 'rifle',
    country: country('DE'),
    manufacturer: 'Rheinmetall / Krieghoff',
    yearIntroduced: 1942,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/fg-42.jpg',
    specs: {
      caliber: '7.92x57mm Mauser',
      action: 'Gas-operated, rotating bolt',
      rateOfFire: 750,
      muzzleVelocity: 740,
      effectiveRange: 500,
      magazineCapacity: 20,
      weight: 4.8,
      length: 945,
    },
    overview: 'Advanced German paratrooper rifle combining automatic fire and rifle power.',
  }),
  gun({
    id: 'arisaka-type-99',
    slug: 'arisaka-type-99',
    name: 'Arisaka Type 99',
    designation: 'Type 99 Short Rifle',
    subcategory: 'rifle',
    country: country('JP'),
    manufacturer: 'Nagoya / Kokura arsenals',
    yearIntroduced: 1939,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/arisaka-type-99.jpg',
    specs: {
      caliber: '7.7x58mm Arisaka',
      action: 'Bolt-action',
      rateOfFire: 15,
      muzzleVelocity: 730,
      effectiveRange: 500,
      magazineCapacity: 5,
      weight: 3.8,
      length: 1118,
    },
    overview: 'Primary Japanese bolt-action rifle during the later WW2 period.',
  }),
  gun({
    id: 'svt-40',
    slug: 'svt-40',
    name: 'SVT-40',
    designation: 'Samozaryadnaya Vintovka Tokareva',
    subcategory: 'rifle',
    country: country('USSR'),
    manufacturer: 'Tula Arsenal',
    yearIntroduced: 1940,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/svt-40.png',
    specs: {
      caliber: '7.62x54mmR',
      action: 'Gas-operated, tilting bolt',
      rateOfFire: 30,
      muzzleVelocity: 830,
      effectiveRange: 500,
      magazineCapacity: 10,
      weight: 3.85,
      length: 1226,
    },
    overview: 'Soviet semi-automatic rifle used early in the Eastern Front before simplification to Mosin output.',
  }),
  gun({
    id: 'walther-p38',
    slug: 'walther-p38',
    name: 'Walther P38',
    designation: 'Pistole 38',
    subcategory: 'handgun',
    country: country('DE'),
    manufacturer: 'Walther / Mauser / Spreewerk',
    yearIntroduced: 1938,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/walther-p38.jpg',
    specs: {
      caliber: '9x19mm Parabellum',
      action: 'Short recoil, locked breech',
      rateOfFire: 0,
      muzzleVelocity: 355,
      effectiveRange: 50,
      magazineCapacity: 8,
      weight: 0.96,
      length: 216,
    },
    overview: 'Standard German service pistol replacing many earlier Luger roles.',
  }),
  gun({
    id: 'de-lisle-carbine',
    slug: 'de-lisle-carbine',
    name: 'De Lisle Carbine',
    designation: 'De Lisle Commando Carbine',
    subcategory: 'rifle',
    country: country('UK'),
    manufacturer: 'Sterling Armaments',
    yearIntroduced: 1944,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/de-lisle-carbine.jpg',
    specs: {
      caliber: '.45 ACP (11.43x23mm)',
      action: 'Bolt-action, integrally suppressed',
      rateOfFire: 15,
      muzzleVelocity: 260,
      effectiveRange: 180,
      magazineCapacity: 7,
      weight: 3.7,
      length: 896,
    },
    overview: 'Special-purpose suppressed carbine for commando and clandestine operations.',
  }),
  gun({
    id: 'm1903a4-springfield',
    slug: 'm1903a4-springfield',
    name: 'M1903A4 Springfield',
    designation: 'U.S. Rifle, Caliber .30, M1903A4 (Sniper)',
    subcategory: 'sniper',
    country: country('US'),
    manufacturer: 'Remington Arms / Smith-Corona',
    yearIntroduced: 1943,
    yearRetired: 1960,
    imageUrl: '/weapons/m1-garand.jpg',
    specs: {
      caliber: '.30-06 Springfield (7.62x63mm)',
      action: 'Bolt-action',
      rateOfFire: 12,
      muzzleVelocity: 853,
      effectiveRange: 800,
      magazineCapacity: 5,
      weight: 3.95,
      length: 1118,
    },
    overview: 'Primary U.S. sniper rifle in the later WW2 period, based on the M1903 bolt-action platform.',
    notableUses: ['Normandy campaign', 'European Theater precision roles'],
  }),
  gun({
    id: 'lee-enfield-no4t',
    slug: 'lee-enfield-no4t',
    name: 'Lee-Enfield No.4 Mk I (T)',
    designation: 'Rifle No.4 Mk I (T) Sniper',
    subcategory: 'sniper',
    country: country('UK'),
    manufacturer: 'Royal Ordnance Factories',
    yearIntroduced: 1942,
    yearRetired: 1970,
    imageUrl: '/weapons-expanded/lee-enfield-no4.jpg',
    specs: {
      caliber: '.303 British (7.7x56mmR)',
      action: 'Bolt-action',
      rateOfFire: 15,
      muzzleVelocity: 744,
      effectiveRange: 800,
      magazineCapacity: 10,
      weight: 4.8,
      length: 1130,
    },
    overview: 'British sniper conversion of the No.4 rifle with selected actions and telescopic sight.',
    notableUses: ['Northwest Europe 1944-45', 'Commonwealth sniper detachments'],
  }),
  gun({
    id: 'kar98k-sniper',
    slug: 'kar98k-sniper',
    name: 'Kar98k Sniper',
    designation: 'Karabiner 98k with ZF39/ZF41 optics',
    subcategory: 'sniper',
    country: country('DE'),
    manufacturer: 'Mauser / various arsenals',
    yearIntroduced: 1939,
    yearRetired: 1945,
    imageUrl: '/weapons/kar98k.jpg',
    specs: {
      caliber: '7.92x57mm Mauser',
      action: 'Bolt-action',
      rateOfFire: 12,
      muzzleVelocity: 760,
      effectiveRange: 800,
      magazineCapacity: 5,
      weight: 4.1,
      length: 1110,
    },
    overview: 'Scoped Kar98k rifles used by German sharpshooters across all major fronts.',
    notableUses: ['Eastern Front long-range engagements', 'Normandy defensive operations'],
  }),
  gun({
    id: 'mosin-m9130-pu-sniper',
    slug: 'mosin-m9130-pu-sniper',
    name: 'Mosin-Nagant M91/30 PU Sniper',
    designation: 'M91/30 with PU scope',
    subcategory: 'sniper',
    country: country('USSR'),
    manufacturer: 'Izhevsk / Tula',
    yearIntroduced: 1942,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/mosin-m9130.png',
    specs: {
      caliber: '7.62x54mmR',
      action: 'Bolt-action',
      rateOfFire: 12,
      muzzleVelocity: 865,
      effectiveRange: 800,
      magazineCapacity: 5,
      weight: 4.0,
      length: 1232,
    },
    overview: 'Soviet WW2 sniper standard, fielded widely with PU optics on selected M91/30 rifles.',
    notableUses: ['Stalingrad sniping operations', 'Soviet counter-offensives 1943-45'],
  }),

  // Tanks
  tank({
    id: 'panther-a',
    slug: 'panther-a',
    name: 'Panther',
    designation: 'Panzerkampfwagen V Panther Ausf. A',
    subcategory: 'medium-tank',
    country: country('DE'),
    manufacturer: 'MAN / Daimler-Benz',
    yearIntroduced: 1943,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/panther-a.jpg',
    specs: {
      crew: 5,
      weight: 44.8,
      armor: { front: 80, side: 50, rear: 40 },
      mainArmament: '75mm KwK 42 L/70',
      engine: 'Maybach HL230 P30 (700 hp)',
      maxSpeed: 55,
      range: 250,
      productionCount: 6000,
    },
    overview: 'German medium tank developed after encountering the T-34 on the Eastern Front.',
  }),
  tank({
    id: 'panzer-iii-j',
    slug: 'panzer-iii-j',
    name: 'Panzer III',
    designation: 'Panzerkampfwagen III Ausf. J',
    subcategory: 'medium-tank',
    country: country('DE'),
    manufacturer: 'Daimler-Benz / MAN',
    yearIntroduced: 1939,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/panzer-iii-j.jpg',
    specs: {
      crew: 5,
      weight: 23,
      armor: { front: 50, side: 30, rear: 30 },
      mainArmament: '50mm KwK 39 L/60',
      engine: 'Maybach HL120 TRM (300 hp)',
      maxSpeed: 40,
      range: 165,
      productionCount: 5700,
    },
    overview: 'Core German early-war medium tank used in Poland, France, and early Soviet campaigns.',
  }),
  tank({
    id: 'churchill-mk-iv',
    slug: 'churchill-mk-iv',
    name: 'Churchill Mk IV',
    designation: 'Infantry Tank Mk IV Churchill',
    subcategory: 'heavy-tank',
    country: country('UK'),
    manufacturer: 'Vauxhall',
    yearIntroduced: 1942,
    yearRetired: 1952,
    imageUrl: '/weapons-expanded/churchill-mk-iv.jpg',
    specs: {
      crew: 5,
      weight: 39,
      armor: { front: 102, side: 76, rear: 64 },
      mainArmament: '6-pounder (57mm) gun',
      engine: 'Bedford twin-six (350 hp)',
      maxSpeed: 24,
      range: 145,
      productionCount: 5640,
    },
    overview: 'Heavy British infantry tank known for strong armor and climbing ability.',
  }),
  tank({
    id: 'cromwell-mk-iv',
    slug: 'cromwell-mk-iv',
    name: 'Cromwell',
    designation: 'Cruiser Tank Mk VIII Cromwell',
    subcategory: 'medium-tank',
    country: country('UK'),
    manufacturer: 'BRC&W / Leyland',
    yearIntroduced: 1943,
    yearRetired: 1950,
    imageUrl: '/weapons-expanded/cromwell-mk-iv.jpg',
    specs: {
      crew: 5,
      weight: 27.6,
      armor: { front: 76, side: 32, rear: 25 },
      mainArmament: '75mm ROQF gun',
      engine: 'Rolls-Royce Meteor (600 hp)',
      maxSpeed: 64,
      range: 280,
      productionCount: 4016,
    },
    overview: 'Fast British cruiser tank used extensively in Northwest Europe.',
  }),
  tank({
    id: 'is-2',
    slug: 'is-2',
    name: 'IS-2',
    designation: 'Iosif Stalin heavy tank',
    subcategory: 'heavy-tank',
    country: country('USSR'),
    manufacturer: 'Chelyabinsk Kirov Plant',
    yearIntroduced: 1944,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/is-2.jpg',
    specs: {
      crew: 4,
      weight: 46,
      armor: { front: 120, side: 90, rear: 60 },
      mainArmament: '122mm D-25T gun',
      engine: 'V-2-IS diesel (600 hp)',
      maxSpeed: 37,
      range: 240,
      productionCount: 3854,
    },
    overview: 'Soviet breakthrough heavy tank used in the final offensives into Germany.',
  }),
  tank({
    id: 'kv-1',
    slug: 'kv-1',
    name: 'KV-1',
    designation: 'Kliment Voroshilov heavy tank',
    subcategory: 'heavy-tank',
    country: country('USSR'),
    manufacturer: 'Kirov Plant',
    yearIntroduced: 1939,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/kv-1.jpg',
    specs: {
      crew: 5,
      weight: 45,
      armor: { front: 90, side: 75, rear: 70 },
      mainArmament: '76.2mm F-32/F-34 gun',
      engine: 'V-2K diesel (600 hp)',
      maxSpeed: 35,
      range: 250,
      productionCount: 5000,
    },
    overview: 'Early-war Soviet heavy tank with armor difficult for 1941 German guns to defeat.',
  }),
  tank({
    id: 'm3-stuart',
    slug: 'm3-stuart',
    name: 'M3 Stuart',
    designation: 'Light Tank M3',
    subcategory: 'light-tank',
    country: country('US'),
    manufacturer: 'American Car & Foundry and others',
    yearIntroduced: 1941,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/m3-stuart.jpg',
    specs: {
      crew: 4,
      weight: 14.7,
      armor: { front: 51, side: 38, rear: 38 },
      mainArmament: '37mm M6 gun',
      engine: 'Continental W-670 (250 hp)',
      maxSpeed: 58,
      range: 120,
      productionCount: 22000,
    },
    overview: 'Light reconnaissance and cavalry tank used by U.S. and Allied forces.',
  }),
  tank({
    id: 'type-97-chi-ha',
    slug: 'type-97-chi-ha',
    name: 'Type 97 Chi-Ha',
    designation: 'Type 97 Medium Tank',
    subcategory: 'medium-tank',
    country: country('JP'),
    manufacturer: 'Mitsubishi Heavy Industries',
    yearIntroduced: 1938,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/type-97-chi-ha.jpg',
    specs: {
      crew: 4,
      weight: 15,
      armor: { front: 33, side: 25, rear: 20 },
      mainArmament: '57mm Type 97 gun (later 47mm on Shinhoto)',
      engine: 'Mitsubishi diesel (170 hp)',
      maxSpeed: 38,
      range: 210,
      productionCount: 2100,
    },
    overview: 'Most common Japanese medium tank in the Pacific and China theaters.',
  }),
  tank({
    id: 'valentine-mk-iii',
    slug: 'valentine-mk-iii',
    name: 'Valentine Mk III',
    designation: 'Infantry Tank Mk III Valentine',
    subcategory: 'medium-tank',
    country: country('UK'),
    manufacturer: 'Vickers-Armstrong / Metro-Cammell',
    yearIntroduced: 1940,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/valentine-mk-iii.jpg',
    specs: {
      crew: 3,
      weight: 16,
      armor: { front: 65, side: 60, rear: 60 },
      mainArmament: '2-pounder (40mm) gun',
      engine: 'AEC A190 diesel (131 hp)',
      maxSpeed: 24,
      range: 145,
      productionCount: 8275,
    },
    overview: 'British infantry tank valued for reliability, also supplied to the USSR via Lend-Lease.',
  }),
  tank({
    id: 'm26-pershing',
    slug: 'm26-pershing',
    name: 'M26 Pershing',
    designation: 'Heavy Tank M26',
    subcategory: 'heavy-tank',
    country: country('US'),
    manufacturer: 'Fisher Tank Arsenal',
    yearIntroduced: 1945,
    yearRetired: 1959,
    imageUrl: '/weapons-expanded/m26-pershing.jpg',
    specs: {
      crew: 5,
      weight: 41.7,
      armor: { front: 102, side: 76, rear: 51 },
      mainArmament: '90mm M3 gun',
      engine: 'Ford GAF V8 (500 hp)',
      maxSpeed: 40,
      range: 160,
      productionCount: 2200,
    },
    overview: 'Late-war U.S. heavy tank introduced in Europe in early 1945.',
  }),
  tank({
    id: 'jagdpanther',
    slug: 'jagdpanther',
    name: 'Jagdpanther',
    designation: 'Sd.Kfz. 173 Jagdpanther',
    subcategory: 'tank-destroyer',
    country: country('DE'),
    manufacturer: 'MIAG / MNH',
    yearIntroduced: 1944,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/jagdpanther.jpg',
    specs: {
      crew: 5,
      weight: 45.5,
      armor: { front: 80, side: 50, rear: 40 },
      mainArmament: '88mm Pak 43/3 L/71',
      engine: 'Maybach HL230 P30 (700 hp)',
      maxSpeed: 46,
      range: 210,
      productionCount: 415,
    },
    overview: 'German tank destroyer combining Panther mobility and the long 88mm anti-tank gun.',
  }),
  tank({
    id: 'su-85',
    slug: 'su-85',
    name: 'SU-85',
    designation: 'Samokhodnaya Ustanovka 85',
    subcategory: 'tank-destroyer',
    country: country('USSR'),
    manufacturer: 'Uralmash',
    yearIntroduced: 1943,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/su-85.jpg',
    specs: {
      crew: 4,
      weight: 29.6,
      armor: { front: 45, side: 45, rear: 40 },
      mainArmament: '85mm D-5S gun',
      engine: 'V-2-34 diesel (500 hp)',
      maxSpeed: 55,
      range: 400,
      productionCount: 2650,
    },
    overview: 'Soviet tank destroyer built on the T-34 chassis for improved anti-armor capability.',
  }),

  // Planes
  plane({
    id: 'hawker-hurricane',
    slug: 'hawker-hurricane',
    name: 'Hawker Hurricane',
    designation: 'Hawker Hurricane Mk I',
    subcategory: 'fighter',
    country: country('UK'),
    manufacturer: 'Hawker Aircraft',
    yearIntroduced: 1937,
    yearRetired: 1947,
    imageUrl: '/weapons-expanded/hawker-hurricane.jpg',
    specs: {
      crew: 1,
      wingspan: 12.19,
      maxSpeed: 547,
      range: 965,
      ceiling: 10970,
      armament: ['8x .303 Browning machine guns'],
      engine: 'Rolls-Royce Merlin III',
      productionCount: 14500,
    },
    overview: 'Key RAF fighter in the Battle of Britain, especially effective against bombers.',
  }),
  plane({
    id: 'fw-190-a8',
    slug: 'fw-190-a8',
    name: 'Focke-Wulf Fw 190',
    designation: 'Fw 190 A-8',
    subcategory: 'fighter',
    country: country('DE'),
    manufacturer: 'Focke-Wulf',
    yearIntroduced: 1941,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/fw-190-a8.jpg',
    specs: {
      crew: 1,
      wingspan: 10.5,
      maxSpeed: 656,
      range: 800,
      ceiling: 11400,
      armament: ['2x 13mm machine guns', '4x 20mm cannon'],
      engine: 'BMW 801 radial engine',
      productionCount: 20000,
    },
    overview: 'Major Luftwaffe single-seat fighter and fighter-bomber on multiple fronts.',
  }),
  plane({
    id: 'il-2-sturmovik',
    slug: 'il-2-sturmovik',
    name: 'Ilyushin Il-2 Sturmovik',
    designation: 'Il-2 Ground-Attack Aircraft',
    subcategory: 'fighter',
    country: country('USSR'),
    manufacturer: 'Ilyushin Design Bureau',
    yearIntroduced: 1941,
    yearRetired: 1954,
    imageUrl: '/weapons-expanded/il-2-sturmovik.jpg',
    specs: {
      crew: 2,
      wingspan: 14.6,
      maxSpeed: 414,
      range: 720,
      ceiling: 6000,
      armament: ['2x 23mm cannon', 'Rockets and bombs'],
      engine: 'Mikulin AM-38',
      productionCount: 36000,
    },
    overview: 'Soviet armored ground-attack aircraft produced in exceptionally large numbers.',
  }),
  plane({
    id: 'a6m-zero',
    slug: 'a6m-zero',
    name: 'Mitsubishi A6M Zero',
    designation: 'Type 0 Carrier Fighter',
    subcategory: 'fighter',
    country: country('JP'),
    manufacturer: 'Mitsubishi / Nakajima',
    yearIntroduced: 1940,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/a6m-zero.jpg',
    specs: {
      crew: 1,
      wingspan: 12,
      maxSpeed: 533,
      range: 1870,
      ceiling: 10000,
      armament: ['2x 20mm cannon', '2x 7.7mm machine guns'],
      engine: 'Nakajima Sakae radial',
      productionCount: 10900,
    },
    overview: 'Long-range Japanese naval fighter dominant early in the Pacific war.',
  }),
  plane({
    id: 'b24-liberator',
    slug: 'b24-liberator',
    name: 'B-24 Liberator',
    designation: 'Consolidated B-24J Liberator',
    subcategory: 'bomber',
    country: country('US'),
    manufacturer: 'Consolidated / Ford and others',
    yearIntroduced: 1941,
    yearRetired: 1968,
    imageUrl: '/weapons-expanded/b24-liberator.jpg',
    specs: {
      crew: 10,
      wingspan: 33.5,
      maxSpeed: 467,
      range: 3380,
      ceiling: 8500,
      armament: ['10x .50 cal machine guns', 'Up to 8,000 lb bombs'],
      engine: '4x Pratt & Whitney R-1830',
      productionCount: 18400,
    },
    overview: 'High-production U.S. heavy bomber used in Europe, Mediterranean, and Pacific theaters.',
  }),
  plane({
    id: 'avro-lancaster',
    slug: 'avro-lancaster',
    name: 'Avro Lancaster',
    designation: 'Avro Lancaster B Mk I',
    subcategory: 'bomber',
    country: country('UK'),
    manufacturer: 'Avro',
    yearIntroduced: 1942,
    yearRetired: 1963,
    imageUrl: '/weapons-expanded/avro-lancaster.jpg',
    specs: {
      crew: 7,
      wingspan: 31.09,
      maxSpeed: 454,
      range: 4070,
      ceiling: 7500,
      armament: ['8x .303 machine guns', 'Typical 14,000 lb bomb load'],
      engine: '4x Rolls-Royce Merlin',
      productionCount: 7377,
    },
    overview: 'RAF strategic night bomber, including the Dambusters raids and major city offensives.',
  }),
  plane({
    id: 'ju-87-stuka',
    slug: 'ju-87-stuka',
    name: 'Junkers Ju 87 Stuka',
    designation: 'Ju 87 D-5',
    subcategory: 'bomber',
    country: country('DE'),
    manufacturer: 'Junkers',
    yearIntroduced: 1937,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/ju-87-stuka.jpg',
    specs: {
      crew: 2,
      wingspan: 13.8,
      maxSpeed: 410,
      range: 600,
      ceiling: 8200,
      armament: ['Bomb load up to 1,800 kg', 'Defensive rear machine gun'],
      engine: 'Junkers Jumo 211',
      productionCount: 6500,
    },
    overview: 'German dive bomber central to early-war close air support and shock effect tactics.',
  }),
  plane({
    id: 'b29-superfortress',
    slug: 'b29-superfortress',
    name: 'B-29 Superfortress',
    designation: 'Boeing B-29',
    subcategory: 'bomber',
    country: country('US'),
    manufacturer: 'Boeing',
    yearIntroduced: 1944,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/b29-superfortress.jpg',
    specs: {
      crew: 11,
      wingspan: 43.05,
      maxSpeed: 574,
      range: 5230,
      ceiling: 9700,
      armament: ['Remote-controlled defensive gun turrets', 'Large strategic bomb load'],
      engine: '4x Wright R-3350',
      productionCount: 3970,
    },
    overview: 'Long-range U.S. heavy bomber used primarily in the Pacific late-war campaign.',
  }),
  plane({
    id: 'me-262',
    slug: 'me-262',
    name: 'Messerschmitt Me 262',
    designation: 'Me 262 A-1a Schwalbe',
    subcategory: 'fighter',
    country: country('DE'),
    manufacturer: 'Messerschmitt',
    yearIntroduced: 1944,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/me-262.jpg',
    specs: {
      crew: 1,
      wingspan: 12.6,
      maxSpeed: 870,
      range: 1050,
      ceiling: 11450,
      armament: ['4x 30mm MK 108 cannon'],
      engine: '2x Junkers Jumo 004 turbojets',
      productionCount: 1430,
    },
    overview: 'First operational jet fighter; arrived too late and in too few numbers to change outcome.',
  }),
  plane({
    id: 'c47-skytrain',
    slug: 'c47-skytrain',
    name: 'C-47 Skytrain',
    designation: 'Douglas C-47 Skytrain',
    subcategory: 'transport',
    country: country('US'),
    manufacturer: 'Douglas Aircraft',
    yearIntroduced: 1941,
    yearRetired: 1969,
    imageUrl: '/weapons-expanded/c47-skytrain.jpg',
    specs: {
      crew: 3,
      wingspan: 28.96,
      maxSpeed: 360,
      range: 2400,
      ceiling: 7300,
      armament: ['Typically unarmed transport'],
      engine: '2x Pratt & Whitney R-1830',
      productionCount: 10000,
    },
    overview: 'Critical Allied transport aircraft for airborne operations and logistics.',
  }),
  plane({
    id: 'yak-3',
    slug: 'yak-3',
    name: 'Yakovlev Yak-3',
    designation: 'Yak-3 fighter',
    subcategory: 'fighter',
    country: country('USSR'),
    manufacturer: 'Yakovlev Design Bureau',
    yearIntroduced: 1944,
    yearRetired: 1952,
    imageUrl: '/weapons-expanded/yak-3.jpg',
    specs: {
      crew: 1,
      wingspan: 9.2,
      maxSpeed: 646,
      range: 900,
      ceiling: 10700,
      armament: ['1x 20mm cannon', '2x 12.7mm machine guns'],
      engine: 'Klimov VK-105PF-2',
      productionCount: 4848,
    },
    overview: 'Late-war Soviet fighter known for strong low-altitude maneuver performance.',
  }),
  plane({
    id: 'p47-thunderbolt',
    slug: 'p47-thunderbolt',
    name: 'P-47 Thunderbolt',
    designation: 'Republic P-47D Thunderbolt',
    subcategory: 'fighter',
    country: country('US'),
    manufacturer: 'Republic Aviation',
    yearIntroduced: 1942,
    yearRetired: 1949,
    imageUrl: '/weapons-expanded/p47-thunderbolt.jpg',
    specs: {
      crew: 1,
      wingspan: 12.43,
      maxSpeed: 697,
      range: 1300,
      ceiling: 13100,
      armament: ['8x .50 cal machine guns', 'Bombs/rockets for strike missions'],
      engine: 'Pratt & Whitney R-2800',
      productionCount: 15600,
    },
    overview: 'Robust U.S. fighter and fighter-bomber heavily used for escort and ground attack.',
  }),

  // Naval
  naval({
    id: 'yamato',
    slug: 'yamato',
    name: 'Yamato',
    designation: 'Yamato-class Battleship',
    subcategory: 'battleship',
    country: country('JP'),
    manufacturer: 'Kure Naval Arsenal',
    yearIntroduced: 1941,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/yamato.jpg',
    specs: {
      displacement: 65000,
      length: 263,
      speed: 27,
      range: 7200,
      crew: 2500,
      armament: ['9x 46cm main guns', 'Secondary and AA batteries'],
      armor: { belt: 410, deck: 200 },
    },
    overview: 'Largest battleship class ever completed, sunk during Operation Ten-Go in 1945.',
  }),
  naval({
    id: 'uss-enterprise-cv6',
    slug: 'uss-enterprise-cv6',
    name: 'USS Enterprise (CV-6)',
    designation: 'Yorktown-class Aircraft Carrier',
    subcategory: 'carrier',
    country: country('US'),
    manufacturer: 'Newport News Shipbuilding',
    yearIntroduced: 1938,
    yearRetired: 1947,
    imageUrl: '/weapons-expanded/uss-enterprise-cv6.jpg',
    specs: {
      displacement: 25500,
      length: 251,
      speed: 32,
      range: 12000,
      crew: 2200,
      armament: ['Carrier air group', '5-inch dual-purpose guns', 'AA guns'],
      armor: { belt: 102, deck: 76 },
    },
    overview: 'Highly decorated U.S. carrier involved in many major Pacific battles.',
  }),
  naval({
    id: 'ijn-shokaku',
    slug: 'ijn-shokaku',
    name: 'IJN Shokaku',
    designation: 'Shokaku-class Aircraft Carrier',
    subcategory: 'carrier',
    country: country('JP'),
    manufacturer: 'Yokosuka Naval Arsenal',
    yearIntroduced: 1941,
    yearRetired: 1944,
    imageUrl: '/weapons-expanded/ijn-shokaku.jpg',
    specs: {
      displacement: 32000,
      length: 257,
      speed: 34,
      range: 9700,
      crew: 1660,
      armament: ['Carrier air group', '127mm dual-purpose guns', 'AA guns'],
      armor: { belt: 165, deck: 132 },
    },
    overview: 'Frontline Japanese fleet carrier from Pearl Harbor through the Philippine Sea.',
  }),
  naval({
    id: 'hms-king-george-v',
    slug: 'hms-king-george-v',
    name: 'HMS King George V',
    designation: 'King George V-class Battleship',
    subcategory: 'battleship',
    country: country('UK'),
    manufacturer: 'Vickers-Armstrong',
    yearIntroduced: 1940,
    yearRetired: 1957,
    imageUrl: '/weapons-expanded/hms-king-george-v.jpg',
    specs: {
      displacement: 42000,
      length: 227,
      speed: 28,
      range: 5400,
      crew: 1500,
      armament: ['10x 14-inch main guns', 'Secondary and AA batteries'],
      armor: { belt: 381, deck: 152 },
    },
    overview: 'British battleship that helped sink Bismarck in May 1941.',
  }),
  naval({
    id: 'uss-iowa',
    slug: 'uss-iowa',
    name: 'USS Iowa (BB-61)',
    designation: 'Iowa-class Battleship',
    subcategory: 'battleship',
    country: country('US'),
    manufacturer: 'New York Naval Shipyard',
    yearIntroduced: 1943,
    yearRetired: 1990,
    imageUrl: '/weapons-expanded/uss-iowa.jpg',
    specs: {
      displacement: 58000,
      length: 270,
      speed: 33,
      range: 15000,
      crew: 2700,
      armament: ['9x 16-inch main guns', '5-inch dual-purpose and AA batteries'],
      armor: { belt: 307, deck: 152 },
    },
    overview: 'Fast U.S. battleship class supporting carrier task forces and shore bombardment.',
  }),
  naval({
    id: 'fletcher-class-destroyer',
    slug: 'fletcher-class-destroyer',
    name: 'Fletcher-class Destroyer',
    designation: 'U.S. Navy Fletcher-class',
    subcategory: 'destroyer',
    country: country('US'),
    manufacturer: 'Multiple U.S. shipyards',
    yearIntroduced: 1942,
    yearRetired: 1970,
    imageUrl: '/weapons-expanded/fletcher-class-destroyer.jpg',
    specs: {
      displacement: 2500,
      length: 114.7,
      speed: 36,
      range: 6500,
      crew: 330,
      armament: ['5x 5-inch guns', '10x 21-inch torpedo tubes', 'AA/ASW weapons'],
      armor: { belt: 19, deck: 13 },
    },
    overview: 'Large U.S. wartime destroyer class used for escort, AA, and anti-submarine roles.',
  }),
  naval({
    id: 'hms-illustrious',
    slug: 'hms-illustrious',
    name: 'HMS Illustrious',
    designation: 'Illustrious-class Aircraft Carrier',
    subcategory: 'carrier',
    country: country('UK'),
    manufacturer: 'Vickers-Armstrong',
    yearIntroduced: 1940,
    yearRetired: 1956,
    imageUrl: '/weapons-expanded/hms-illustrious.jpg',
    specs: {
      displacement: 28000,
      length: 227,
      speed: 30,
      range: 11000,
      crew: 1300,
      armament: ['Carrier air group', '16x 4.5-inch dual-purpose guns', 'AA guns'],
      armor: { belt: 114, deck: 76 },
    },
    overview: 'British armored carrier noted for survivability under heavy air attack.',
  }),
  naval({
    id: 'gato-class-submarine',
    slug: 'gato-class-submarine',
    name: 'Gato-class Submarine',
    designation: 'U.S. Navy Gato-class',
    subcategory: 'submarine',
    country: country('US'),
    manufacturer: 'Electric Boat / Portsmouth',
    yearIntroduced: 1941,
    yearRetired: 1969,
    imageUrl: '/weapons-expanded/gato-class-submarine.jpg',
    specs: {
      displacement: 2400,
      length: 95,
      speed: 20,
      range: 11000,
      crew: 80,
      armament: ['10x 21-inch torpedo tubes', 'Deck gun and AA guns'],
      armor: { belt: 9, deck: 0 },
    },
    overview: 'Main U.S. fleet submarine class in the Pacific commerce-raiding campaign.',
  }),
  naval({
    id: 'essex-class-carrier',
    slug: 'essex-class-carrier',
    name: 'Essex-class Carrier',
    designation: 'U.S. Navy Essex-class Aircraft Carrier',
    subcategory: 'carrier',
    country: country('US'),
    manufacturer: 'Multiple U.S. shipyards',
    yearIntroduced: 1942,
    yearRetired: 1991,
    imageUrl: '/weapons-expanded/essex-class-carrier.jpg',
    specs: {
      displacement: 36000,
      length: 266,
      speed: 33,
      range: 15000,
      crew: 2600,
      armament: ['Carrier air group', '5-inch dual-purpose guns', 'AA guns'],
      armor: { belt: 102, deck: 64 },
    },
    overview: 'Backbone U.S. fast-carrier class in late Pacific operations.',
  }),
  naval({
    id: 'tirpitz',
    slug: 'tirpitz',
    name: 'Tirpitz',
    designation: 'Bismarck-class Battleship',
    subcategory: 'battleship',
    country: country('DE'),
    manufacturer: 'Kriegsmarinewerft Wilhelmshaven',
    yearIntroduced: 1941,
    yearRetired: 1944,
    imageUrl: '/weapons-expanded/tirpitz.jpg',
    specs: {
      displacement: 52600,
      length: 251,
      speed: 30,
      range: 8870,
      crew: 2600,
      armament: ['8x 38cm SK C/34 guns', 'Secondary and AA batteries'],
      armor: { belt: 320, deck: 120 },
    },
    overview: 'German sister ship of Bismarck, tied down major Allied naval resources in Norway.',
  }),
  naval({
    id: 'hms-warspite',
    slug: 'hms-warspite',
    name: 'HMS Warspite',
    designation: 'Queen Elizabeth-class Battleship',
    subcategory: 'battleship',
    country: country('UK'),
    manufacturer: 'Devonport Dockyard',
    yearIntroduced: 1915,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/hms-warspite.jpg',
    specs: {
      displacement: 36000,
      length: 196,
      speed: 24,
      range: 6200,
      crew: 1200,
      armament: ['8x 15-inch main guns', 'Secondary and AA guns'],
      armor: { belt: 330, deck: 102 },
    },
    overview: 'Modernized British battleship with significant WW2 service in Mediterranean and Normandy.',
  }),
  naval({
    id: 'kongo-class-battleship',
    slug: 'kongo-class-battleship',
    name: 'Kongo-class Fast Battleship',
    designation: 'Kongo-class',
    subcategory: 'battleship',
    country: country('JP'),
    manufacturer: 'Various Japanese shipyards',
    yearIntroduced: 1913,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/kongo-class-battleship.jpg',
    specs: {
      displacement: 36600,
      length: 222,
      speed: 30,
      range: 10000,
      crew: 1400,
      armament: ['8x 14-inch main guns', 'Secondary and AA batteries'],
      armor: { belt: 203, deck: 70 },
    },
    overview: 'Older Japanese battlecruisers modernized as fast battleships and used in Pacific operations.',
  }),

  // Explosives
  explosive({
    id: 'mk2-frag-grenade',
    slug: 'mk2-frag-grenade',
    name: 'Mk 2 Fragmentation Grenade',
    designation: 'Grenade, Hand, Fragmentation, Mk 2',
    subcategory: 'fragmentation-grenade',
    country: country('US'),
    manufacturer: 'Multiple U.S. ordnance plants',
    yearIntroduced: 1918,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/mk2-frag-grenade.jpg',
    specs: {
      explosiveType: 'Fragmentation hand grenade',
      fuzing: 'Time fuze (~4-5 seconds)',
      filling: 'TNT',
      weight: 0.59,
      effectiveRange: 35,
      blastRadius: 15,
    },
    overview: 'Standard U.S. "pineapple" fragmentation grenade used throughout WW2.',
  }),
  explosive({
    id: 'mills-no36m',
    slug: 'mills-no36m',
    name: 'No. 36M Mills Bomb',
    designation: 'Grenade, Hand, No. 36M',
    subcategory: 'fragmentation-grenade',
    country: country('UK'),
    manufacturer: 'Royal Ordnance factories',
    yearIntroduced: 1918,
    yearRetired: 1970,
    imageUrl: '/weapons-expanded/mills-no36m.jpg',
    specs: {
      explosiveType: 'Fragmentation hand grenade',
      fuzing: 'Time fuze',
      filling: 'Amatol/Baratol',
      weight: 0.77,
      effectiveRange: 30,
      blastRadius: 15,
    },
    overview: 'British grenade variant extensively used in both European and Asian theaters.',
  }),
  explosive({
    id: 'stielhandgranate-24',
    slug: 'stielhandgranate-24',
    name: 'Stielhandgranate 24',
    designation: 'Stielhandgranate Modell 24',
    subcategory: 'fragmentation-grenade',
    country: country('DE'),
    manufacturer: 'Various German plants',
    yearIntroduced: 1924,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/stielhandgranate-24.jpg',
    specs: {
      explosiveType: 'Concussion/fragmentation grenade',
      fuzing: 'Pull-cord friction igniter (time delay)',
      filling: 'TNT/Amatol',
      weight: 0.59,
      effectiveRange: 30,
      blastRadius: 10,
    },
    overview: 'Iconic German stick grenade; often used with fragmentation sleeve when needed.',
  }),
  explosive({
    id: 'type-97-grenade',
    slug: 'type-97-grenade',
    name: 'Type 97 Grenade',
    designation: 'Type 97 Fragmentation Grenade',
    subcategory: 'fragmentation-grenade',
    country: country('JP'),
    manufacturer: 'Imperial Japanese arsenals',
    yearIntroduced: 1937,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/type-97-grenade.jpg',
    specs: {
      explosiveType: 'Fragmentation hand grenade',
      fuzing: 'Impact/time striker delay system',
      filling: 'TNT',
      weight: 0.45,
      effectiveRange: 25,
      blastRadius: 10,
    },
    overview: 'Common Japanese grenade design used by infantry in Pacific and China campaigns.',
  }),
  explosive({
    id: 'rgd-33',
    slug: 'rgd-33',
    name: 'RGD-33',
    designation: 'Ruchnaya Granata Degtyaryova',
    subcategory: 'fragmentation-grenade',
    country: country('USSR'),
    manufacturer: 'Soviet armament factories',
    yearIntroduced: 1933,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/rgd-33.jpg',
    specs: {
      explosiveType: 'Offensive/defensive configurable grenade',
      fuzing: 'Time fuze',
      filling: 'TNT',
      weight: 0.5,
      effectiveRange: 35,
      blastRadius: 12,
    },
    overview: 'Soviet hand grenade with optional fragmentation sleeve configuration.',
  }),
  explosive({
    id: 'no-73-at-grenade',
    slug: 'no-73-at-grenade',
    name: 'No. 73 Grenade',
    designation: 'No. 73 Anti-Tank Grenade',
    subcategory: 'anti-tank-grenade',
    country: country('UK'),
    manufacturer: 'British ordnance factories',
    yearIntroduced: 1940,
    yearRetired: 1943,
    imageUrl: '/weapons-expanded/no-73-at-grenade.jpg',
    specs: {
      explosiveType: 'Anti-tank hand grenade',
      fuzing: 'Impact fuze',
      filling: 'Nitroglycerin gel',
      weight: 1.8,
      effectiveRange: 15,
      blastRadius: 4,
    },
    overview: 'Early British improvised anti-tank grenade used before better PIAT availability.',
  }),
  explosive({
    id: 'rpg-43',
    slug: 'rpg-43',
    name: 'RPG-43',
    designation: 'Ruchnoy Protivotankovy Granatomyot 43',
    subcategory: 'anti-tank-grenade',
    country: country('USSR'),
    manufacturer: 'Soviet armament plants',
    yearIntroduced: 1943,
    yearRetired: 1950,
    imageUrl: '/weapons-expanded/rpg-43.jpg',
    specs: {
      explosiveType: 'HEAT anti-tank grenade',
      fuzing: 'Impact fuze with stabilizing parachute',
      filling: 'Shaped explosive charge',
      weight: 1.2,
      effectiveRange: 15,
      blastRadius: 4,
    },
    overview: 'Soviet anti-tank hand grenade designed to defeat armored vehicles at close range.',
  }),
  explosive({
    id: 'tellermine-42',
    slug: 'tellermine-42',
    name: 'Tellermine 42',
    designation: 'T.Mi.42 anti-tank mine',
    subcategory: 'mine',
    country: country('DE'),
    manufacturer: 'German ordnance factories',
    yearIntroduced: 1942,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/tellermine-42.jpg',
    specs: {
      explosiveType: 'Pressure-fuzed anti-tank mine',
      fuzing: 'Pressure fuze',
      filling: 'TNT/amatol',
      weight: 9.5,
      effectiveRange: 0,
      blastRadius: 0,
    },
    overview: 'Widely deployed German anti-tank mine used in defensive belts across Europe.',
  }),
  explosive({
    id: 's-mine-35',
    slug: 's-mine-35',
    name: 'S-mine 35',
    designation: 'Schrapnellmine 35',
    subcategory: 'mine',
    country: country('DE'),
    manufacturer: 'German ordnance factories',
    yearIntroduced: 1935,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/s-mine-35.jpg',
    specs: {
      explosiveType: 'Bounding anti-personnel mine',
      fuzing: 'Pressure tripwire and delay charge',
      filling: 'TNT',
      weight: 4,
      effectiveRange: 0,
      blastRadius: 20,
    },
    overview: 'German bounding mine designed to detonate at waist height for fragmentation effect.',
  }),
  explosive({
    id: 'm1a1-at-mine',
    slug: 'm1a1-at-mine',
    name: 'M1A1 Anti-Tank Mine',
    designation: 'Mine, AT, M1A1',
    subcategory: 'mine',
    country: country('US'),
    manufacturer: 'U.S. Ordnance Department',
    yearIntroduced: 1942,
    yearRetired: 1950,
    imageUrl: '/weapons-expanded/m1a1-at-mine.jpg',
    specs: {
      explosiveType: 'Pressure-fuzed anti-tank mine',
      fuzing: 'Pressure fuze',
      filling: 'TNT',
      weight: 5.2,
      effectiveRange: 0,
      blastRadius: 0,
    },
    overview: 'Standard U.S. anti-tank mine for obstacle and route denial roles.',
  }),
  explosive({
    id: 'gammon-bomb',
    slug: 'gammon-bomb',
    name: 'Gammon Bomb',
    designation: 'No. 82 Grenade (Gammon)',
    subcategory: 'demolition-charge',
    country: country('UK'),
    manufacturer: 'British SOE / ordnance production',
    yearIntroduced: 1943,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/gammon-bomb.jpg',
    specs: {
      explosiveType: 'Flexible demolition grenade',
      fuzing: 'Impact fuze',
      filling: 'Plastic explosive (variable load)',
      weight: 1,
      effectiveRange: 20,
      blastRadius: 8,
    },
    overview: 'British special-purpose charge usable against vehicles, fortifications, and sabotage targets.',
  }),
  explosive({
    id: 'hafthohlladung-3',
    slug: 'hafthohlladung-3',
    name: 'Hafthohlladung 3',
    designation: 'Magnetic Hollow Charge',
    subcategory: 'demolition-charge',
    country: country('DE'),
    manufacturer: 'German ordnance factories',
    yearIntroduced: 1942,
    yearRetired: 1945,
    imageUrl: '/weapons-expanded/hafthohlladung-3.jpg',
    specs: {
      explosiveType: 'Magnetic HEAT demolition charge',
      fuzing: 'Time-delay fuze',
      filling: 'Shaped explosive charge',
      weight: 3,
      effectiveRange: 0,
      blastRadius: 3,
    },
    overview: 'German magnetic anti-armor charge attached directly to tank hulls.',
  }),
  explosive({
    id: 'no-74-st-grenade',
    slug: 'no-74-st-grenade',
    name: 'No. 74 ST Grenade',
    designation: 'Sticky Bomb',
    subcategory: 'anti-tank-grenade',
    country: country('UK'),
    manufacturer: 'British ordnance factories',
    yearIntroduced: 1940,
    yearRetired: 1943,
    imageUrl: '/weapons-expanded/no-74-st-grenade.jpg',
    specs: {
      explosiveType: 'Sticky anti-tank grenade',
      fuzing: 'Time fuze',
      filling: 'Nitroglycerin gel',
      weight: 1.02,
      effectiveRange: 15,
      blastRadius: 4,
    },
    overview: 'Emergency British anti-tank grenade using adhesive casing to stick to armor.',
  }),
  explosive({
    id: 'an-m14-th3',
    slug: 'an-m14-th3',
    name: 'AN-M14 TH3',
    designation: 'Incendiary Grenade AN-M14 TH3',
    subcategory: 'incendiary',
    country: country('US'),
    manufacturer: 'U.S. chemical ordnance plants',
    yearIntroduced: 1942,
    yearRetired: 1960,
    imageUrl: '/weapons-expanded/an-m14-th3.jpg',
    specs: {
      explosiveType: 'Thermite incendiary grenade',
      fuzing: 'Percussion ignition and delay',
      filling: 'Thermite mixture',
      weight: 0.9,
      effectiveRange: 20,
      blastRadius: 2,
    },
    overview: 'U.S. incendiary grenade for destruction of equipment, stores, and light materiel.',
  }),
];
